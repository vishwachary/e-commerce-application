CREATE TABLE address (
id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
city VARCHAR(255),
state VARCHAR(255),
zip_code VARCHAR(255)
);

CREATE TABLE customer (
id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
first_name VARCHAR(255),
last_name VARCHAR(255),
email VARCHAR(255),
address_id BIGINT,
CONSTRAINT fk_customer_address FOREIGN KEY (address_id) REFERENCES address(id)
);

CREATE UNIQUE INDEX ux_customer_email ON customer(email);


{
  "id": 1,
  "firstName": "John",
  "lastName": "Doe",
  "email": "john.doe@example.com",
  "address": {
    "id": 101,
    "city": "Anytown",
    "state": "CA",
    "zipCode": "12345"
  }
}